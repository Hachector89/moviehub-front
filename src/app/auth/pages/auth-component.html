<section class="flex items-center justify-center text-white px-4 md:mt-20">
  <mat-card class="w-full max-w-md p-6 bg-gray-900 shadow-xl rounded-2xl">
    <h2 class="text-2xl font-semibold mb-6 text-center">
      {{ isLogin() ? 'Sign in' : 'Sign up' }}
    </h2>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4">
      <ng-container *ngIf="!isLogin()">
        <mat-form-field appearance="fill" class="w-full">
          <mat-label>Username</mat-label>
          <input matInput formControlName="username" autocomplete="username" />
          <mat-error *ngIf="form.get('username')?.hasError('required')">Username is required.</mat-error>
          <mat-error *ngIf="form.get('username')?.hasError('pattern')">Username must contain only letters and
            numbers.</mat-error>
        </mat-form-field>
      </ng-container>

      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email" autocomplete="email" />
        <mat-error *ngIf="form.get('email')?.hasError('required')">Email is required.</mat-error>
        <mat-error *ngIf="form.get('email')?.hasError('email')">Enter a valid email format.</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Password</mat-label>
        <input matInput type="password" formControlName="password" autocomplete="password" />
        <mat-error *ngIf="form.get('password')?.hasError('required')">Password is required.</mat-error>
        <mat-error *ngIf="form.get('password')?.hasError('minlength')">Password must be at least 8 characters.
          characters</mat-error>
      </mat-form-field>

      <ng-container *ngIf="!isLogin()">
        <mat-form-field appearance="fill" class="w-full">
          <mat-label>Confirm Password</mat-label>
          <input matInput type="password" formControlName="confirmPassword" />
          <mat-error *ngIf="form.get('confirmPassword')?.hasError('required')">Confirmation password is required.</mat-error>
          <mat-error *ngIf="form.hasError('passwordsMismatch')">Passwords must match.</mat-error>
        </mat-form-field>
      </ng-container>

      <button mat-raised-button color="primary" class="w-full">
        {{ isLogin() ? 'Sign In' : 'Sign Up' }}
      </button>

    </form>

    <p class="text-sm mt-6 text-center">
      {{ isLogin() ? "Don't have an account?" : 'Already have an account?' }}
      <button class="text-blue-400 underline ml-1" (click)="toggleMode()">
        {{ isLogin() ? 'Create one' : 'Sign in' }}
      </button>
    </p>
  </mat-card>
</section>
